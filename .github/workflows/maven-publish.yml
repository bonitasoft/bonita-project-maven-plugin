name: Publish maven Package

on:
  release:
    types: [created]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - name: Check out Git repository
      uses: actions/checkout@v2

    - name: Install Java and Maven
      uses: actions/setup-java@v1
      with:
        java-version: 11

    - name: Build and Push snapshots to Maven central
      uses: samuelmeuli/action-maven-publish@v1
      with:
        gpg_private_key: ${{ secrets.gpg_private_key }}
        gpg_passphrase: ${{ secrets.gpg_passphrase }}
        nexus_username: ${{ secrets.ossrh_username }}
        nexus_password: ${{ secrets.ossrh_password }}
